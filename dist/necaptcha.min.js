!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):t.NECaptcha=e(t.React)}(this,function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(i){function c(t){var e,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),r=this,i=o(c).call(this,t),e=!i||"object"!=typeof i&&"function"!=typeof i?a(r):i,n(a(a(e)),"init",function(){var t=a(a(e));if(window.initNECaptcha)t.ready();else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.charset="utf-8",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t.ready())}:n.onload=function(){n.onload=null,t.ready()},n.src="".concat(document.location.protocol,"//cstaticdun.126.net/load.min.js?_t=").concat((new Date).getTime());var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),t.setState({script:n})}}),n(a(a(e)),"ready",function(){var t=a(a(e)),n=t.props,o=n.captchaId,r=n.width,i=n.lang,c=n.onLoad,u=n.onError,p=t.state.ins;if(window.initNECaptcha)if(p)t.load(p);else if(t.dom){var l={captchaId:o,element:t.dom,width:r,lang:i};t.props.protocol&&(l.protocol=t.props.protocol),t.props.mode&&(l.mode=t.props.mode),t.props.appendTo&&(l.appendTo=t.props.appendTo),window.initNECaptcha(l,function(e){t.load(e),t.setState({ins:e}),c&&c(e)},u)}}),n(a(a(e)),"load",function(t){var n=a(a(e)).props,o=n.onReady,r=n.onVerify,i=n.onClose;t.onReady(o),t.onVerify(r),t.onClose(i)}),n(a(a(e)),"destroy",function(){a(a(e)).setState({ins:null,script:null})}),e.dom=null,e.state={ins:null,script:null},e}var u,p,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(c,t.Component),u=c,(p=[{key:"componentDidMount",value:function(){this.init()}},{key:"shouldComponentUpdate",value:function(t,e){return t.captchaId!==this.props.captchaId}},{key:"componentDidUpdate",value:function(t,e){this.init()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var e=this,n=e.props.captchaId;return t.createElement("div",{key:n,className:"i-necaptcha",ref:function(t){e.dom=t}})}}])&&e(u.prototype,p),l&&e(u,l),c}();return n(i,"defaultProps",{width:"auto",lang:"zh-CN",onLoad:function(t){},onError:function(t){},onReady:function(t){},onVerify:function(){},onClose:function(){}}),i});
//# sourceMappingURL=necaptcha.min.js.map
