!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):t.NECaptcha=e(t.React)}(this,function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(i){function c(t){var e,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),r=this,i=o(c).call(this,t),e=!i||"object"!=typeof i&&"function"!=typeof i?a(r):i,n(a(a(e)),"init",function(){var t=a(a(e)),n="react-necaptcha";if(window.initNECaptcha)t.ready();else if(document.getElementById(n))t.wait();else{var o=document.createElement("script");o.id=n,o.type="text/javascript",o.async=!0,o.charset="utf-8",o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t.ready())}:o.onload=function(){o.onload=null,t.ready()};var r="http:"===window.location.protocol?"http:":"https:";o.src="".concat(r,"//cstaticdun.126.net/load.min.js?_t=").concat((new Date).getTime());var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),t.setState({script:o})}}),n(a(a(e)),"wait",function(){var t=a(a(e)),n=t.state,o=n.timer,r=n.count;if(!(o||r>0)){var i=window.setInterval(function(){if(window.initNECaptcha)return window.clearInterval(i),t.setState({timer:null,count:0}),void window.setTimeout(t.ready.bind(t));var e=t.state.count;(e-=1)<1?(window.clearInterval(i),t.setState({timer:null,count:0})):t.setState({count:e})},100);t.setState({timer:i,count:10})}}),n(a(a(e)),"ready",function(){var t=a(a(e)),n=t.props,o=n.captchaId,r=n.width,i=n.lang,c=n.onReady,u=n.onVerify,l=n.onClose,s=n.onLoad,p=n.onError,d=t.state.ins;if(window.initNECaptcha&&!d&&t.dom){var f={captchaId:o,element:t.dom,width:r,lang:i,onReady:c,onVerify:u,onClose:l};t.props.mode&&(f.mode=t.props.mode),t.props.protocol&&(f.protocol=t.props.protocol),t.props.appendTo&&(f.appendTo=t.props.appendTo),window.initNECaptcha(f,function(e){t.setState({ins:e}),s&&s(e)},p)}}),n(a(a(e)),"destroy",function(){var t=a(a(e)).state.timer;t&&window.clearInterval(t)}),e.dom=null,e.state={ins:null,script:null,timer:null,count:0},e}var u,l,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(c,t.Component),u=c,(l=[{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(t,e){this.init()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var e=this,n=e.props.className;return t.createElement("div",{className:n,ref:function(t){e.dom=t}})}}])&&e(u.prototype,l),s&&e(u,s),c}();return n(i,"defaultProps",{className:"i-necaptcha",width:"auto",lang:"zh-CN",onReady:function(t){},onVerify:function(){},onClose:function(){},onLoad:function(t){},onError:function(t){}}),i});
//# sourceMappingURL=necaptcha.min.js.map
